<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2020-05-29 Fri 18:20 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Starting a blog</title>
<meta name="generator" content="Org mode">
<meta name="author" content="Lincoln Clarete">
<link rel="stylesheet" type="text/css" href="/media/css/main.css" />
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="icon" type="image/png" href="/media/img/8bitme.png" /><link rel="alternate" type="application/rss+xml" href="blog/rss.xml" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="/"> UP </a>
 |
 <a accesskey="H" href="blog/"> HOME </a>
</div><header id="top" class="status">
<div class="social">
  <div class="container">

    <ul class="badges">
      <li>
        <a href="mailto:lincoln@clarete.li" alt="Email">
          <span class="fa fa-envelope-o"></span>EMail
        </a>
      </li>
      <li>
        <a href="https://github.com/clarete" target="_blank" alt="Github">
          <span class="fa fa-github-alt"></span>Github
        </a>
      </li>
      <li>
        <a href="/blog/rss.xml" alt="RSS">
          <span class="fa fa-rss"></span>RSS
        </a>
      </li>
    </ul>

    <a href="/">
      <img class="avatar" type="image/svg+xml" src="/media/img/8bitme.svg" alt="Me in 8bit" />
    </a>

    <div class="balloon">
      Happy Hacking!
    </div>

  </div>
</div>
</header>
<main id="content">
<h1 class="title">Starting a blog
<br>
<span class="subtitle">April 26 2020</span>
</h1>
<p>
I've tried blogging before. All the attempts ended up following a very
similar pattern: Took me a veeeery long time to write a single post
and after that I never looked back at it again.
</p>

<p>
This time I'm trying things differently. I'm not going to start from
the perfect blog post. I'll start just documenting how I turned this
GitHub Pages repository in a blog and see what comes next.
</p>

<div id="outline-container-orge393af3" class="outline-2">
<h2 id="orge393af3">First things first</h2>
<div class="outline-text-2" id="text-orge393af3">
<p>
I already have a GitHub pages website setup. It's as simple as
creating a repository called <code>YOURGITHUBUSER.github.io</code> (you can see
mine <a href="https://github.com/clarete/clarete.github.io/">here</a>). After that, you can push static HTML content and it will
be available under <code>https://YOURGITHUBUSER.github.io</code>.
</p>

<p>
I also configured my DNS provider to point my domain <code>clarete.li</code> to
GitHub and created a <code>CNAME</code> file containing the domain name.
</p>

<p>
If you've never done that before, I highly recommend visiting the
GitHub Pages documentation. Specifically the articles for <a href="https://help.github.com/en/github/working-with-github-pages">creating a
new website</a> and <a href="https://help.github.com/en/github/working-with-github-pages/configuring-a-custom-domain-for-your-github-pages-site">configuring a custom domain</a> for your new website.
</p>
</div>
</div>

<div id="outline-container-org42e0d88" class="outline-2">
<h2 id="org42e0d88">The home page</h2>
<div class="outline-text-2" id="text-org42e0d88">
<p>
My lil website is as simple as it can get. My amazing <a href="https://www.instagram.com/pinkandsalt/">fiance</a> got me
the logo you see on the top bar and I took care of putting it on a
proper pink background for the internet enjoyment.
</p>

<p>
The index file is just HTML and CSS, nothing else. Even the list of
recent posts is done manually.
</p>
</div>
</div>

<div id="outline-container-orgef945ec" class="outline-2">
<h2 id="orgef945ec">The Posts</h2>
<div class="outline-text-2" id="text-orgef945ec">
<p>
This very post is written as an Org-Mode file. For those who haven't
heard of Org-Mode before, checkout <a href="https://orgmode.org/">their website</a>.  Long story short,
Org-Mode is a text-based document format.  From that perspective, it
could be compared with <code>Markdown</code>. The difference is the ginormous
feature set that Org-Mode supports compared.  Including, but not
limited to, many output formats and an incredible interactive
experience. 
</p>

<p>
HTML is one of the output formats that Org-Mode supports. Each post
written in an <code>.org</code> file will be translated into an HTML page.
This feature is built into Org-Mode. It just takes a bit of
configuration.
</p>
</div>
</div>

<div id="outline-container-org90d3f54" class="outline-2">
<h2 id="org90d3f54">Org-Mode Publishing</h2>
<div class="outline-text-2" id="text-org90d3f54">
<p>
Being completely honest, the HTML publishing feature doesn't seem
exactly designed for the blogging use case. It took quite a bit of
tweaking of the configuration to get it to do all the things that I
wanted.
</p>

<p>
You can read the entirety of my configuration in the file that I
submitted to git as part of this website: <a href="https://github.com/clarete/clarete.github.io/blob/master/publish">publish</a>. But there is one
little part that I consider worth mentioning: Setting the variable
<code>org-publish-project-alist</code>.
</p>

<p>
Although a single document can be exported to HTML, in order to
apply the same configuration to various files, I was required to
create a project with a source directory and an output directory.
</p>

<p>
The cool thing about this project thing was that I could have
different groups of settings and aggregate them all under a single
project.  The commented snippet bellow will shad some light in the
most essential parts of the configuration:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span style="color: #458588;">(</span><span style="color: #fb4933;">setq</span> org-publish-project-alist
  <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">Here's the project definition with other 3 components</span>
  `<span style="color: #b16286;">(</span><span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"blog"</span> <span style="color: #fe8019;">:components</span> <span style="color: #d65d0e;">(</span><span style="color: #b8bb26;">"blog-posts"</span> <span style="color: #b8bb26;">"blog-static"</span> <span style="color: #b8bb26;">"blog-rss"</span><span style="color: #d65d0e;">)</span><span style="color: #8ec07c;">)</span>
    <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">This is the component that translates the .org files into</span>
    <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">the .html ones. There are lots of things happening here</span>
    <span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"blog-posts"</span>
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">Where your org files are coming from</span>
     <span style="color: #fe8019;">:base-directory</span> ,base-dir
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">Where your HTML files will be generated</span>
     <span style="color: #fe8019;">:publishing-directory</span> ,pub-dir
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">Customize the Org file tree before it's translated into</span>
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">HTML. I needed to override this function to hook up</span>
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">inserting the date of the post into the subtitle.</span>
     <span style="color: #fe8019;">:publishing-function</span> local-blog-publish
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">Some configuration of what is going to be auto-generated</span>
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">and what won't</span>
     <span style="color: #fe8019;">:auto-sitemap</span> t
     <span style="color: #fe8019;">:auto-preamble</span> t
     <span style="color: #fe8019;">:section-numbers</span> nil
     <span style="color: #fe8019;">:table-of-contents</span> nil
     <span style="color: #fe8019;">:html-head-include-default-style</span> nil
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">These allowed me to inject my own HTML for the header and</span>
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">the footer. I'm in fact reading these two snippets from</span>
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">separate files</span>
     <span style="color: #fe8019;">:html-preamble</span> local-blog-preamble
     <span style="color: #fe8019;">:html-postamble</span> local-blog-postamble<span style="color: #8ec07c;">)</span>
    <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">Tis is actually straight forward. It will take care of the</span>
    <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">asset files included in the blog posts</span>
    <span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"blog-static"</span>
     <span style="color: #fe8019;">:base-directory</span> ,base-dir
     <span style="color: #fe8019;">:publishing-directory</span> ,pub-dir
     <span style="color: #fe8019;">:base-extension</span> <span style="color: #b8bb26;">"css</span><span style="color: #b8bb26; font-weight: bold;">\\</span><span style="color: #b8bb26; font-weight: bold;">|</span><span style="color: #b8bb26;">js</span><span style="color: #b8bb26; font-weight: bold;">\\</span><span style="color: #b8bb26; font-weight: bold;">|</span><span style="color: #b8bb26;">png</span><span style="color: #b8bb26; font-weight: bold;">\\</span><span style="color: #b8bb26; font-weight: bold;">|</span><span style="color: #b8bb26;">jpg</span><span style="color: #b8bb26; font-weight: bold;">\\</span><span style="color: #b8bb26; font-weight: bold;">|</span><span style="color: #b8bb26;">gif</span><span style="color: #b8bb26; font-weight: bold;">\\</span><span style="color: #b8bb26; font-weight: bold;">|</span><span style="color: #b8bb26;">pdf"</span>
     <span style="color: #fe8019;">:recursive</span> t
     <span style="color: #fe8019;">:publishing-function</span> org-publish-attachment<span style="color: #8ec07c;">)</span>
    <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">Also straightforward, but needed to install an extension</span>
    <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">`</span><span style="color: #d3869b;">ox-rss</span><span style="color: #7c6f64;">' that wasn't available via package manager. This little</span>
    <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">snippet will be responsible for generating the `</span><span style="color: #d3869b;">rss.xml</span><span style="color: #7c6f64;">'</span>
    <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">file.</span>
    <span style="color: #8ec07c;">(</span><span style="color: #b8bb26;">"blog-rss"</span>
     <span style="color: #fe8019;">:base-directory</span> ,base-dir
     <span style="color: #fe8019;">:publishing-directory</span> ,pub-dir
     <span style="color: #fe8019;">:publishing-function</span> <span style="color: #d65d0e;">(</span>org-rss-publish-to-rss<span style="color: #d65d0e;">)</span>
     <span style="color: #fe8019;">:base-extension</span> <span style="color: #b8bb26;">"org"</span>
     <span style="color: #fe8019;">:rss-extension</span> <span style="color: #b8bb26;">"xml"</span>
     <span style="color: #fe8019;">:html-link-home</span> <span style="color: #b8bb26;">"https://clarete.li/"</span>
     <span style="color: #fe8019;">:html-link-use-abs-url</span> t
     <span style="color: #fe8019;">:include</span> <span style="color: #d65d0e;">(</span><span style="color: #b8bb26;">"rss.org"</span><span style="color: #d65d0e;">)</span>
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">This is what generates the file `</span><span style="color: #d3869b;">rss.org</span><span style="color: #7c6f64;">', which in turn is</span>
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">what's used to generate `</span><span style="color: #d3869b;">rss.xml</span><span style="color: #7c6f64;">'. The trickiest part for sure</span>
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">was stitching together the custom functions starting with</span>
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">`</span><span style="color: #d3869b;">local-blog-</span><span style="color: #7c6f64;">'. The references I linked in the last paragraph</span>
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">can be of great help if my `</span><span style="color: #d3869b;">publish</span><span style="color: #7c6f64;">' file isn't enough for</span>
     <span style="color: #7c6f64;">;; </span><span style="color: #7c6f64;">you.</span>
     <span style="color: #fe8019;">:auto-sitemap</span> t
     <span style="color: #fe8019;">:sitemap-filename</span> <span style="color: #b8bb26;">"rss.org"</span>
     <span style="color: #fe8019;">:sitemap-title</span> <span style="color: #b8bb26;">"Lincoln Clarete"</span>
     <span style="color: #fe8019;">:sitemap-style</span> list
     <span style="color: #fe8019;">:sitemap-sort-files</span> anti-chronologically
     <span style="color: #fe8019;">:sitemap-format-entry</span> local-blog-sitemap-format-entry
     <span style="color: #fe8019;">:sitemap-function</span> local-blog-sitemap-function
     <span style="color: #fe8019;">:publishing-function</span> local-blog-rss-publish-to-rss<span style="color: #8ec07c;">)</span><span style="color: #b16286;">)</span><span style="color: #458588;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org597bd9f" class="outline-2">
<h2 id="org597bd9f">Operating the blog</h2>
<div class="outline-text-2" id="text-org597bd9f">
<p>
From now one, I just have to execute the command <code>C-c C-e P p</code> to
ask Org Publishing to generate the HTML file of all the org files that
have been updated since I last executed it. It feels quite
convenient, I have to say.
</p>

<p>
After changing stuff and regenerating the HTML, the last step in my
publication journey is to add the changes to Git and push the
changes to GitHub. Then it just takes a minute or two for GitHub
Pages to pick up the changes and display it properly.
</p>
</div>
</div>

<div id="outline-container-org09bedc9" class="outline-2">
<h2 id="org09bedc9">Open issues</h2>
<div class="outline-text-2" id="text-org09bedc9">
<p>
I'm very happy with the current setup and there really aren't that
many issues so far. But there are two that I want to tackle:
</p>

<ol class="org-ol">
<li>I haven't added the unfurling links as suggested by <a href="https://writepermission.com/org-blogging-unfurling-links.html">rw-r-r</a>;</li>
<li>Still need to decide if I'll use Google Analytics or another less
intrusive alternative;</li>
<li>Source code snippets don't get syntax highlight if I the script
<code>publish</code> directly from the terminal. It errors out with the
following message: <code>Cannot fontify source block (htmlize.el &gt;=
     1.34 required)</code>. Which is quite weird because I have <code>htmlize
     1.57</code> installed.  I'm OK not fixing it for now because I can just
do it from within emacs and that's actually more convenient.</li>
</ol>
</div>
</div>

<div id="outline-container-orge7bd4dd" class="outline-2">
<h2 id="orge7bd4dd">Final thoughts</h2>
<div class="outline-text-2" id="text-orge7bd4dd">
<p>
The fine grained customizations were certaingly the hardest to get
to work and I wouldn't have been able to figure it out in the amount
of time I had to dedicate to this task without the amazing reference
other Emacs users put together. Here's what I consulted in no
particular order:
</p>

<ul class="org-ul">
<li><a href="https://orgmode.org/worg/org-tutorials/org-publish-html-tutorial.html">https://orgmode.org/worg/org-tutorials/org-publish-html-tutorial.html</a></li>
<li><a href="https://www.brautaset.org/articles/2017/blogging-with-org-mode.html">https://www.brautaset.org/articles/2017/blogging-with-org-mode.html</a></li>
<li><a href="https://vicarie.in/posts/blogging-with-org.html">https://vicarie.in/posts/blogging-with-org.html</a></li>
<li><a href="https://writepermission.com/org-blogging-rss-feed.html">https://writepermission.com/org-blogging-rss-feed.html</a></li>
</ul>
</div>
</div>
</main>
<footer id="postamble" class="status">
<div class="footer">
  <div class="email-link">
    ~~ lincoln@clarete.li ~~
  </div>

  <div class="bg">
    <div class="container">
      © Lincoln Clarete &mdash; <a href="mailto:lincoln@clarete.li">Email</a>, <a href="https://github.com/clarete">GitHub</a>,
      <a rel="alternate" type="application/rss+xml" href="/blog/rss.xml">RSS</a>
    </div>
  </div>
</div>
</footer>
</body>
</html>
